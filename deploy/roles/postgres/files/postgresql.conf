# PostgreSQL 17 Custom Configuration
# Format: setting = new_value  # (default: old_value)

shared_preload_libraries = 'pg_stat_statements'

# Memory Settings
shared_buffers = 24GB                    # (default: 128MB)
effective_cache_size = 80GB              # (default: 4GB)
work_mem = 512MB                         # (default: 4MB)
maintenance_work_mem = 2GB               # (default: 64MB) - 16x increase

# Connection Settings
max_connections = 200                    # (default: 100) - 2x increase

# Parallel Processing
max_worker_processes = 24                # (default: 8) - 3x increase
max_parallel_workers = 12                # (default: 8) - 1.5x increase
max_parallel_workers_per_gather = 4     # (default: 2) - 2x increase
max_parallel_maintenance_workers = 4    # (default: 2) - 2x increase

# WAL Settings
wal_buffers = 64MB                       # (default: 3% of shared_buffers, ~4MB)
min_wal_size = 1GB                       # (default: 80MB) - 12x increase
max_wal_size = 4GB                       # (default: 1GB) - 4x increase
checkpoint_completion_target = 0.9       # (default: 0.5) - smoother checkpoints
checkpoint_timeout = 15min

# Storage Settings (SSD optimized)
random_page_cost = 1.1                   # (default: 4.0) - SSD optimization
effective_io_concurrency = 200          # (default: 1) - SSD optimization

# Monitoring
log_min_duration_statement = 1000       # (default: -1 disabled) - log slow queries
default_statistics_target = 100         # (default: 100) - unchanged

log_checkpoints = on
log_lock_waits = on
