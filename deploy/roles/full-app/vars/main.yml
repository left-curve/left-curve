---
tailscale_iface: tailscale0
tailscale_ip: "{{ hostvars[inventory_hostname]['ansible_' + tailscale_iface].ipv4.address }}"
github_sha: "{{ lookup('pipe','git rev-parse HEAD') }}"
dango_image_tag: "{{ github_sha }}"
dex_bot_tag: "latest"
ghcr_user: "{{ lookup('env','GITHUB_USER') }}"
ghcr_token: "{{ lookup('env','GITHUB_TOKEN') }}"
timestamp: "{{ ansible_date_time.year }}{{ ansible_date_time.month }}{{ ansible_date_time.day }}{{ ansible_date_time.hour }}{{ ansible_date_time.minute }}{{ ansible_date_time.second }}"
deployment_name: "{{ timestamp }}"
cometbft_node_key: "{{ lookup('env', (dango_network|upper) ~ '_COMETBFT_NODE_KEY') }}"
cometbft_validator_address: "{{ lookup('env', (dango_network|upper) ~ '_COMETBFT_VALIDATOR_ADDRESS') }}"
cometbft_validator_public_key: "{{ lookup('env', (dango_network|upper) ~ '_COMETBFT_VALIDATOR_PUB_KEY') }}"
cometbft_validator_private_key: "{{ lookup('env', (dango_network|upper) ~ '_COMETBFT_VALIDATOR_PRIVATE_KEY') }}"
dango_host: "dango"
cometbft_host: "cometbft"
cometbft_tag: "v0.38.17"
cometbft_generate_keys: false
deploy_env: "staging"
chain_id: "dev-10"
dango_network: "devnet"
# When traefik is enabled it will be used for routing, keeping the same port
traefik_enabled: false
traefik_dir: "{{ ansible_env.HOME }}/traefik"
expose_ports: false
dex_bot_enabled: false
github_deployments_enabled: false
deploy_includes_postgres: true
delete_postgres_database_at_merge: false
deploy_includes_clickhouse: true
delete_clickhouse_database_at_merge: false
postgres_database: "dango_{{ timestamp }}"
clickhouse_database: "dango_{{ timestamp }}"
deployment_dir: "{{ ansible_env.HOME }}/deployments/{{ deployment_name }}"
dango_directory: "{{ deployment_dir }}/dango"
cometbft_directory: "{{ deployment_dir }}/cometbft"
# should we use system wide dango and cometbft directories instead of contained in the deploy
system_wide_directories: false
keep_databases: false
pyth_access_token: "{{ lookup('env', 'PYTH_ACCESS_TOKEN') }}"
