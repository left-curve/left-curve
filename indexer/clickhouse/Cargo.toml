[package]
authors       = { workspace = true }
categories    = { workspace = true }
documentation = { workspace = true }
edition       = { workspace = true }
license       = { workspace = true }
name          = "indexer-clickhouse"
repository    = { workspace = true }
rust-version  = { workspace = true }
version       = { workspace = true }

[features]
metrics = ["dep:metrics"]
testing = []
tracing = ["dep:tracing"]

[dependencies]
anyhow         = { workspace = true }
async-stream   = { workspace = true }
async-trait    = { workspace = true }
borsh          = { workspace = true }
clickhouse     = { workspace = true, features = ["time", "uuid"] }
dango-types    = { workspace = true }
futures        = { workspace = true }
grug           = { workspace = true }
grug-app       = { workspace = true }
grug-types     = { workspace = true, features = ["chrono"] }
indexer-hooked = { workspace = true }
itertools      = { workspace = true }
metrics        = { workspace = true, optional = true }
refinery       = { workspace = true }
strum          = { workspace = true }
strum_macros   = { workspace = true }
tempfile       = { workspace = true }
thiserror      = { workspace = true }
tokio          = { workspace = true, features = ["sync"] }
tokio-stream   = { workspace = true }
tracing        = { workspace = true, optional = true }

[dev-dependencies]
assertor   = { workspace = true }
clickhouse = { workspace = true, features = ["test-util"] }
test-case  = { workspace = true }
