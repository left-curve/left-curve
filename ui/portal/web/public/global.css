@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-surface-primary-rice: #FFFCF6;
  --color-surface-primary-green: #D2D184;
  --color-surface-primary-red: #FEF1F1;
  --color-surface-secondary-rice: #FFF9F0;
  --color-surface-secondary-blue: #F0F1F7;
  --color-surface-secondary-red: #FEE6E8;
  --color-surface-tertiary-rice: #FFF3E1;
  --color-surface-tertiary-green: #E5E4B1;
  --color-surface-quaternary-green: #D2D184;
  --color-surface-quaternary-rice: #F3E5BF;
  --color-surface-quaternary-rice-hover: #EFDAA4;
  --color-surface-disabled-gray: #F5F4F4;
  --color-overlay-rice: #F2E2B8CC;
  --color-border-secondary-rice: #EFDAA4;
  --color-border-tertiary-blue: #E2E3F2;
  --color-foreground-disabled-gray: #ACA9A7;
  --color-foreground-tertiary: #837D7B;
  --color-foreground-tertiary-rice: #E3BD66;
  --color-foreground-quaternary-rice: #F3E5BF;
  --color-foreground-secondary-rice: #FFF9F0;
  --color-foreground-primary-blue: #595763;
  --color-foreground-primary-red: #9A183D;
  --color-foreground-primary-green: #606427;
  --color-foreground-primary-rice: #9C4D21;
  --color-button-green: #BDBF5C;
  --color-primary-red: #FEF1F1;
  --color-primary-blue: #F7F8FB;
  --color-primary-rice: #9C4D21;
  --color-primary-900: #2E2521;
  --color-primary-gray: #D6D4D3;
  --color-primary-green: #F9F8EC;
  --color-secondary-700: #453D39;
  --color-secondary-blue: #918CC6;
  --color-secondary-rice: #9C4D21;
  --color-secondary-gray: #EAE9E9;
  --color-secondary-red: #FCCFD4;
  --color-secondary-green: #F1F0D6;
  --color-tertiary-500: #6E6865;
  --color-tertiary-rice: #F3E5BF;
  --color-tertiary-green: #E5E4B1;
  --color-tertiary-blue: #E2E3F2;
  --color-tertiary-red: #ED4561;
  --color-status-fail: #E71818;
  --color-status-success: #25B12A;

  --shadow-card: 0px 2px 4px rgba(171, 158, 138, 0.4), 0px -1px 2px rgba(241, 219, 186, 0.5);
  --shadow-btn-shadow-gradient: 0px 2px 4px rgba(171, 158, 138, 0.4), 0px -1px 2px rgba(241, 219, 186, 0.5), inset 0px 3px 6px -2px rgba(255, 255, 255, 0.64), inset 0px 0px 8px -2px rgba(255, 255, 255, 0.48);
  --shadow-btn-secondary-shadow-gradient: 0px 2px 4px rgba(171, 158, 138, 0.4), 0px -1px 2px rgba(241, 219, 186, 0.5), inset 0px 3px 6px -2px rgba(255, 255, 255, 0.64), inset 0px 0px 8px -2px rgba(255, 255, 255, 0.48);

  --chartiq-filter: brightness(0) saturate(72%) invert(35%) sepia(25%) saturate(1469%) hue-rotate(332deg) brightness(78%) contrast(89%);

  --color-bg-card-blue: linear-gradient(98.89deg, #F6F6FB 18.66%, #DDDCEE 46.73%, #F6F6FB 86%);
  --color-bg-card-rice: linear-gradient(98.89deg, #fff5e6 18.66%, #fce5c4 46.73%, #fff5e6 86%);
  --color-bg-card-red: linear-gradient(98.89deg, #FFFBF5 5.88%, #F9E2E2 46.73%, #FFFBF4 94.73%);
  --color-bg-card-red-2: linear-gradient(0deg, #FFFBF5, #FFFBF5), linear-gradient(98.89deg, rgba(255, 251, 245, 0.2) 5.88%, rgba(249, 212, 214, 0.2) 46.73%, rgba(255, 251, 244, 0.2) 94.73%);
  --color-bg-card-green: linear-gradient(98.89deg, #F8F9EF 5.88%, #EFF0C3 46.73%, #F8F9EF 94.73%);
  --color-bg-card-green-2: linear-gradient(0deg, #F8F9EF, #F8F9EF), linear-gradient(98.89deg, rgba(248, 249, 239, 0.05) 5.88%, rgba(235, 236, 183, 0.05) 46.73%, rgba(248, 249, 239, 0.05) 94.73%);
}

html.dark {
  --color-surface-primary-rice: #2D2C2A;
  --color-surface-primary-green: #7C7A65;
  --color-surface-primary-red: #564D4C;
  --color-surface-secondary-rice: #363432;
  --color-surface-secondary-blue: #646273;
  --color-surface-secondary-red: #6B5D5D;
  --color-surface-tertiary-rice: #4D4B48;
  --color-surface-tertiary-green: #59574B;
  --color-surface-quaternary-green: #6B6958;
  --color-surface-quaternary-rice: #594F3C;
  --color-surface-quaternary-rice-hover: #6A5D42;
  --color-surface-disabled-gray: #363432;
  --color-overlay-rice: #F2E2B84D;
  --color-border-secondary-rice: #594F3C;
  --color-border-tertiary-blue: #646273;
  --color-foreground-disabled-gray: #807D78;
  --color-foreground-tertiary: #999590;
  --color-foreground-tertiary-rice: #807660;
  --color-foreground-quaternary-rice: #594F3C;
  --color-foreground-secondary-rice: #363432;
  --color-foreground-primary-blue: #F7F8FB;
  --color-foreground-primary-red: #FEF1F1;
  --color-foreground-primary-green: #DCDBAB;
  --color-foreground-primary-rice: #E3BD66;
  --color-button-green: #D2D184;
  --color-primary-red: #423C3B;
  --color-primary-blue: #595763;
  --color-primary-rice: #E3BD66;
  --color-primary-900: #FFFCF6;
  --color-primary-gray: #595754;
  --color-primary-green: #48463F;
  --color-secondary-700: #FFF9F0;
  --color-secondary-blue: #CBCBE7;
  --color-secondary-rice: #E3BD66;
  --color-secondary-gray: #4D4B48;
  --color-secondary-red: #6B5D5D;
  --color-secondary-green: #504E45;
  --color-tertiary-500: #B2AEA8;
  --color-tertiary-rice: #474237;
  --color-tertiary-green: #3F3B35;
  --color-tertiary-blue: #646273;
  --color-tertiary-red: #FCCFD4;
  --color-status-fail: #FF6B6B;
  --color-status-success: #66C86A;

  --shadow-card: 0px 1px 6px rgba(25, 25, 24, 0.4), 0px 4px 13px rgba(25, 25, 24, 0.5);
  --shadow-btn-shadow-gradient: 0px 0px 8px -2px #FFFFFF7A inset, 0px 3px 6px -2px #FFFFFFA3 inset, 0px 4px 6px 0px #0000000A, 0px 4px 6px 0px #0000000A;
  --shadow-btn-secondary-shadow-gradient: 0px -1px 3px -2px #00000012 inset, 0px 2px 3px -1px #FFFFFF12 inset, 0px 1px 1px -0.5px #0000000A;

  --chartiq-filter: brightness(0) saturate(1710%) invert(35%) sepia(20%) saturate(1000%) hue-rotate(360deg) brightness(235%) contrast(89%);

  --color-bg-card-blue: linear-gradient(98.89deg, #373634 18.66%, #6E6D77 46.73%, #373634 86%);
  --color-bg-card-rice: linear-gradient(98.89deg, #383633 18.66%, #615A51 46.73%, #383633 86%);
  --color-bg-card-red: linear-gradient(98.89deg, #494443 11.21%, #584D4E 46.73%, #322F2F 88.96%);
  --color-bg-card-red-2: linear-gradient(0deg, #494443, #494443), linear-gradient(98.89deg, rgba(73, 68, 67, 0.2) 5.88%, rgba(88, 77, 78, 0.2) 46.73%, rgba(50, 47, 47, 0.2) 94.73%);
  --color-bg-card-green: linear-gradient(98.89deg, #373634 18.76%, #666654 46.73%, #373634 87.62%);
  --color-bg-card-green-2: linear-gradient(0deg, #373634, #373634), linear-gradient(98.89deg, rgba(55, 54, 52, 0.05) 5.88%, rgba(102, 102, 84, 0.05) 46.73%, rgba(55, 54, 52, 0.05) 94.73%);
}

body {
  overflow-x: hidden;
  overflow-y: scroll;
  min-height: 100svh;
  scrollbar-gutter: stable;
  background: var(--color-surface-primary-rice);
}

#root {
  font-family: 'ABCDiatypeRounded', sans-serif;
  padding-bottom: env(safe-area-inset-bottom);
}

.header {
  width: 200%;
  mask: url("./images/header-mask.svg") no-repeat bottom center / 115%;
}

@media screen and (min-width: 768px) {
  .header {
    width: 100%;
  }
}


@layer utilities {

  @media (min-height: 1000px) and (min-width: 1280px) {
    div.custom-width {
      width: calc(720px + (100vh - 1000px) * 0.8);
    }
  }

  input:is(:-webkit-autofill, :autofill) {
    /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind color */
    -webkit-text-fill-color: theme('colors.secondary.700') !important;
  }


  .qr-container {
    display: flex;
    height: 100%;
    justify-content: center;
    align-items: center;
  }

  .max-h-available {
    max-height: 100vh;
    /* biome-ignore lint/suspicious/noDuplicateProperties: Adding browser-specific properties */
    max-height: -moz-available;
    max-height: -webkit-fill-available;
    max-height: -webkit-stretch;
  }
}

[cmdk-group-heading] {
  @apply diatype-sm-medium text-tertiary-500;
  padding: 0 11px;
}

.react-json-view .variable-value div {
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind color */
  color: theme("colors.white.100") !important;
}

.fp-overflow {
  width: 100%;
}

/* ChartIQ */
#chart-container cq-drawing-palette cq-separator {
  opacity: .4;
  border-color: var(--color-secondary-700);
}

#chart-container cq-drawing-palette .tool-group .drawing-tools-group cq-separator {
  margin: 5px 4px;
}

#chart-container cq-drawing-palette cq-scroll {
  scrollbar-width: none;
  scrollbar-color: initial;
}

#chart-container cq-drawing-palette cq-scroll .drawing-tools-group.lines,
#chart-container cq-drawing-palette cq-scroll .drawing-tools-group.markings,
#chart-container cq-drawing-palette cq-scroll .drawing-tools-group.text {
  margin: 0 3px;
}

#chart-container cq-drawing-palette cq-scroll::-webkit-scrollbar {
  width: 0;
  height: 0;
}

#chart-container cq-drawing-palette cq-scroll:hover {
  scrollbar-width: thin;
  scrollbar-color: var(--color-secondary-gray) var(--color-surface-primary-rice);
}


#chart-container .ciq-day .ciq-nav,
#chart-container .ciq-day .chartContainer,
#chart-container .ciq-day cq-chart-title,
#chart-container .ciq-night .ciq-nav,
#chart-container .ciq-night .chartContainer,
#chart-container .ciq-night cq-chart-title {
  color: var(--color-tertiary-500) !important;
  background: var(--color-surface-secondary-rice) !important;
  border: none;
}

#chart-container cq-palette-dock [orientation="vertical"] {
  border-right: var(--color-secondary-gray) 1px solid;
}

#chart-container cq-separator {
  border-color: var(--color-secondary-gray);
}

#chart-container .palette-container {
  background: var(--color-surface-secondary-rice);
  border: none;
}

#chart-container .ciq-day cq-menu .menu-clickable:not(cq-help),
#chart-container .ciq-night cq-menu .menu-clickable:not(cq-help) {
  color: var(--color-tertiary-500);
}

#chart-container .stx-subholder {
  border: none;
}

#chart-container .ciq-chart {
  box-shadow: none;
}

#chart-container cq-drawing-palette .tool-group .drawing-tools-group {
  margin: 0;
}

#chart-container .ciq-day .ciq-chart:first-of-type,
#chart-container .ciq-day cq-dropdown .content,
#chart-container .ciq-night .ciq-chart:first-of-type,
#chart-container .ciq-night cq-dropdown .content,
#chart-container cq-drawing-palette .ciq-tool:before,
#chart-container cq-drawing-palette .ciq-mini-widget:before {
  background: var(--color-surface-secondary-rice);
}

#chart-container .ciq-night cq-drawing-palette .ciq-tool:before,
#chart-container .ciq-night cq-drawing-palette .ciq-mini-widget:before,
#chart-container .ciq-night .ciq-select:hover,
#chart-container .ciq-day cq-drawing-palette .ciq-tool:before,
#chart-container .ciq-day cq-drawing-palette .ciq-mini-widget:before,
#chart-container .ciq-day .ciq-select:hover {
  background: var(--color-surface-tertiary-rice);
  border: transparent;
  color: var(--color-primary-900);
}

#chart-container cq-heading {
  @apply exposure-xs-italic;
  text-transform: capitalize;
  color: var(--color-secondary-700);
}

#chart-container cq-dropdown .content>.item.ciq-active .ciq-switch,
#chart-container cq-dropdown .content>.item.ciq-active:hover .ciq-switch,
#chart-container .ciq-active .ciq-radio span:after,
#chart-container .ciq-radio.ciq-active span:after,
#chart-container .ciq-active>.ciq-switch,
#chart-container .ciq-switch:checked,
#chart-container .ciq-active>.ciq-switch:hover,
html:not([ciq-last-interaction="touch"]) #chart-container .ciq-context-menu div.ciq-switch-item.ciq-active:hover .ciq-switch,
.ciq-context-menu div.ciq-switch-item.ciq-active .ciq-switch {
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind color */
  background: theme("colors.red-bean.500");
}

#chart-container .ciq-active .ciq-radio span:after,
#chart-container .ciq-radio.ciq-active span:after {
  bottom: initial;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}


#chart-container cq-drawing-palette.list .mini-widget-group .ciq-mini-widget[cq-view="list"] .icon,
#chart-container cq-drawing-palette.grid .mini-widget-group .ciq-mini-widget[cq-view="grid"] .icon,
#chart-container cq-drawing-palette .ciq-mini-widget.active .icon,
#chart-container cq-drawing-palette .ciq-mini-widget .active .icon,
#chart-container cq-drawing-palette .ciq-mini-widget:active .icon,
#chart-container cq-drawing-palette .ciq-mini-widget .active+.icon,
#chart-container cq-drawing-palette .ciq-tool.active .icon,
#chart-container cq-drawing-palette .ciq-tool:active .icon {
  filter: var(--chartiq-filter);
}

#chart-container cq-drawing-palette .ciq-tool label,
#chart-container cq-drawing-palette .ciq-tool span[label],
#chart-container cq-drawing-palette .ciq-mini-widget label,
#chart-container cq-drawing-palette .ciq-mini-widget span[label],
#chart-container [cq-tooltip],
#chart-container *>[cq-tooltip] {
  background: var(--color-surface-quaternary-rice);
  color: var(--color-foreground-primary-rice);
  border-radius: 8px;
  border: 1px solid var(--color-border-secondary-rice) !important;
  @apply diatype-xs-medium;
  font-size: 10px;
}

:host(cq-dropdown.ciq-night) #chart-container .item.separator-item hr,
#chart-container .ciq-night cq-dropdown .item.separator-item hr,
:host(cq-dropdown.ciq-day) #chart-container .item.separator-item hr,
#chart-container .ciq-day cq-dropdown .item.separator-item hr,
#chart-container cq-dialog.ciq-night hr,
#chart-container cq-dialog.ciq-day hr {
  border-bottom-color: var(--color-border-secondary-rice);
}

#chart-container cq-dropdown .content>.item:not(:is(.separator-item, .heading-item, .template-item, .ciq-btn)):hover>*,
#chart-container cq-drawing-palette,
#chart-container cq-menu.nav-dropdown:before,
#chart-container .ciq-nav cq-toggle:before,
#chart-container cq-views .item:hover,
#chart-container cq-study-legend.shaded .item:hover,
html:not([ciq-last-interaction="touch"]) #chart-container cq-studies .item:hover {
  background: var(--color-surface-tertiary-rice) !important
}

#chart-container cq-drawing-palette {
  outline: none;
}

:host(cq-toggle.active) #chart-container,
#chart-container cq-toggle.active {
  border-bottom: 3px solid var(--color-primary-rice)
}

#chart-container .stx_current_hr_up,
#chart-container .stx_candle_up {
  background-color: var(--color-status-success);
}

#chart-container .stx_current_hr_down,
#chart-container .stx_candle_down {
  background-color: var(--color-status-fail);
}

#chart-container .cq-down,
#chart-container .stx_candle_down {
  color: var(--color-status-fail);
}

#chart-container .cq-up,
#chart-container .stx_candle_up {
  color: var(--color-status-success);
}

#chart-container .ciq-chart-area,
#chart-container cq-side-panel {
  bottom: 0;
}

#chart-container .cq-dialogs {
  z-index: 99999999;
  position: fixed;
  top: 50%;
  left: 50%;
  /* transform: translate(-50%, -50%); */
  @apply diatype-xs-medium;
  color: var(--color-primary-900);
}

html:not([ciq-last-interaction="touch"]) #chart-container .ciq-night .ciq-context-menu div:hover {
  background: var(--color-surface-tertiary-rice);

}

#chart-container cq-dialog.ciq-night[cq-drawing-context],
#chart-container cq-dialog.ciq-night[cq-study-context],
#chart-container cq-dialog.ciq-night[cq-yaxis-context],
#chart-container cq-dialog.ciq-day[cq-drawing-context],
#chart-container cq-dialog.ciq-day[cq-study-context],
#chart-container cq-dialog.ciq-day[cq-yaxis-context] {
  box-shadow: var(--shadow-card);
}


:host(cq-dropdown.ciq-night) .content,
.ciq-night cq-dropdown .content,
cq-dropdown.ciq-night .content,
:host(cq-dropdown.ciq-day) .content,
#chart-container .ciq-day cq-dropdown .content,
#chart-container cq-dropdown.ciq-day .content {
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind boxShadow */
  box-shadow: theme("boxShadow.account-card");
  @apply diatype-xs-medium;
}

html:not([ciq-last-interaction="touch"]) #chart-container cq-palette-dock .ciq-select:hover {
  color: var(--color-secondary-700);
}

#chart-container .ciq-select {
  background: var(--color-surface-secondary-rice);
  border-radius: 8px;
  border: 1px solid var(--color-surface-tertiary-rice) !important;
}

#chart-container cq-menu .ciq-screen-reader {
  @apply diatype-xs-medium;
}

#chart-container .chartContainer {
  @apply diatype-xs-medium;
  font-size: 10px;
}

#chart-container cq-dialog.ciq-night,
#chart-container cq-dialog.ciq-day {
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind boxShadow */
  box-shadow: theme("boxShadow.account-card");
  margin-top: 0;
  background: var(--color-surface-primary-rice);
  color: var(--color-primary-900);
  border-radius: 20px;
  overflow: hidden;
}


#chart-container cq-chart-title cq-symbol {
  @apply h3-heavy;
}

#chart-container cq-dialog.ciq-night input:hover,
#chart-container cq-dialog.ciq-day input:hover {
  background: var(--color-surface-tertiary-rice);
}

#chart-container .ciq-night .ciq-btn,
#chart-container .ciq-night .ciq-btn-negative,
#chart-container .ciq-night .annotationCancel,
#chart-container .ciq-night .annotationSave,
#chart-container .ciq-day .ciq-btn,
#chart-container .ciq-day .ciq-btn-negative,
#chart-container .ciq-day .annotationCancel,
#chart-container .ciq-day .annotationSave,
#chart-container cq-study-legend .item.ciq-btn {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  max-width: fit-content;
  height: 25px;
  min-width: 100px;
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind boxShadow */
  box-shadow: theme("boxShadow.btn-shadow-gradient");
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind colors */
  background: theme("colors.red-bean.400");
  color: var(--color-surface-primary-rice);
  border-image-source: linear-gradient(180deg, rgba(0, 0, 0, 0.04) 8%, rgba(0, 0, 0, 0.07) 100%);
  border-radius: 14px;
  text-transform: capitalize;
  padding: 6px 8px;
  @apply exposure-xs-italic;
}

#chart-container cq-study-legend.shaded [section-dynamic] {
  background: var(--color-surface-secondary-rice);
}

#chart-container .ciq-dialog-cntrls {
  display: flex;
  justify-content: center;
  align-items: center;
}

#chart-container cq-clickable {
  margin: 8px auto 0;
}

#chart-container .ciq-night .ciq-btn:hover,
#chart-container .ciq-night .ciq-btn-negative:hover,
#chart-container .ciq-night .annotationCancel:hover,
#chart-container .ciq-night .annotationSave:hover,
#chart-container .ciq-day .ciq-btn:hover,
#chart-container .ciq-day .ciq-btn-negative:hover,
#chart-container .ciq-day .annotationCancel:hover,
#chart-container .ciq-day .annotationSave:hover,
#chart-container cq-study-legend.shaded cq-clickable.clickable-item.item.ciq-btn:hover {
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind colors */
  background: theme("colors.red-bean.600") !important;
  color: var(--color-surface-primary-rice) !important;
  /* biome-ignore lint/correctness/noUnknownFunction: theme() is required for dynamic Tailwind boxShadow */
  box-shadow: theme("boxShadow.btn-shadow-gradient");
  border-image-source: linear-gradient(180deg, rgba(0, 0, 0, 0.04) 8%, rgba(0, 0, 0, 0.07) 100%);
}


#chart-container cq-heading.dropdown input {
  border: 0px solid transparent;
  padding-left: 8px;
  outline: none;
  overflow: hidden;
  background-color: var(--color-surface-primary-rice);
  border-radius: 10px;
  transition: all 0.5s;
  @apply diatype-xs-medium;
  font-style: normal;
}

#chart-container cq-study-legend.shaded cq-clickable.clickable-item.item.ciq-btn {
  display: flex;
  margin: 6px auto 0;
}

#chart-container cq-dropdown[config="studies"] .content {
  padding-top: 16px;
}


/* Scrollbar styles */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 99999px;
}

::-webkit-scrollbar-thumb {
  border-radius: 99999px;
  background: var(--color-secondary-gray);
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-secondary-gray);
}
