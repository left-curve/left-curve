[package]
authors       = { workspace = true }
categories    = { workspace = true }
documentation = { workspace = true }
edition       = { workspace = true }
license       = { workspace = true }
name          = "dango-bridge-relayer-httpd"
repository    = { workspace = true }
rust-version  = { workspace = true }
version       = { workspace = true }

[[bin]]
name = "bridge-relayer-httpd"
path = "src/main.rs"

[features]
default = ["metrics", "tracing"]
metrics = ["dep:actix-web-metrics", "dep:metrics", "dep:metrics-exporter-prometheus"]
tracing = ["dep:tracing"]

[dependencies]
actix-cors                  = { workspace = true }
actix-web                   = { workspace = true }
actix-web-metrics           = { workspace = true, optional = true }
anyhow                      = { workspace = true }
dango-types                 = { workspace = true }
error-backtrace             = { workspace = true }
grug                        = { workspace = true }
indexer-client              = { workspace = true }
metrics                     = { workspace = true, optional = true }
metrics-exporter-prometheus = { workspace = true, optional = true }
sea-orm                     = { workspace = true }
sentry-actix                = { workspace = true }
thiserror                   = { workspace = true }
tokio                       = { workspace = true }
tracing                     = { workspace = true, optional = true }
tracing-subscriber          = { workspace = true }

[dev-dependencies]
test-case = { workspace = true }
